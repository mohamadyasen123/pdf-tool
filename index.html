<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="PDF Masterly - Free online PDF tools. Convert PDF to Word, PDF to JPG, Merge PDFs, Compress PDFs, and convert JPG to PDF. Fast, secure, and high quality.">
    <meta name="keywords" content="PDF Masterly, PDF tools, PDF to Word, PDF to JPG, Merge PDF, Compress PDF, JPG to PDF, online PDF converter">
    <title>PDF Masterly - Free Online PDF Converter & Tools</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        /* ===== RESET & BASE STYLES ===== */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary-color: #2563eb; --primary-dark: #1e40af;
            --secondary-color: #10b981; --danger-color: #ef4444;
            --bg-color: #f8fafc; --card-bg: #ffffff;
            --text-dark: #1e293b; --text-light: #64748b;
            --border-color: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius: 12px;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text-dark); line-height: 1.6; min-height: 100vh; padding: 20px;
        }
        /* ===== HEADER ===== */
        .header { text-align: center; margin-bottom: 40px; animation: fadeInDown 0.6s ease; }
        .logo-container { display: flex; align-items: center; justify-content: center; margin-bottom: 15px; gap: 15px; }
        .logo {
            width: 60px; height: 60px;
            background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
            border-radius: 15px; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2); position: relative; overflow: hidden;
        }
        .logo::before {
            content: ''; position: absolute; width: 70%; height: 70%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px; transform: rotate(-10deg);
        }
        .logo::after {
            content: 'PDF'; position: absolute; color: white; font-weight: 900; font-size: 16px;
            z-index: 1; text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .brand-name {
            color: white; font-size: clamp(1.8rem, 5vw, 2.8rem); font-weight: 800;
            text-shadow: 0 4px 6px rgba(0,0,0,0.2); letter-spacing: -0.5px;
        }
        .brand-name .masterly {
            background: linear-gradient(to right, #fbbf24, #f59e0b);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }
        .header h1 {
            color: white; font-size: clamp(1.8rem, 5vw, 2.5rem); font-weight: 700;
            margin-bottom: 10px; text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .header p { color: rgba(255,255,255,0.9); font-size: clamp(0.9rem, 2vw, 1.1rem); }
        /* ===== MAIN CONTAINER ===== */
        .container { max-width: 1200px; margin: 0 auto; }
        /* ===== TOOL NAVIGATION ===== */
        .tool-nav { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; margin-bottom: 30px; animation: fadeIn 0.8s ease; }
        .tool-btn {
            background: white; color: var(--text-dark); border: 2px solid transparent;
            padding: 12px 24px; border-radius: 50px; font-size: 0.95rem; font-weight: 600;
            cursor: pointer; transition: all 0.3s ease; box-shadow: var(--shadow-md);
        }
        .tool-btn:hover { transform: translateY(-2px); box-shadow: var(--shadow-lg); }
        .tool-btn.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }
        /* ===== TOOL CARDS ===== */
        .tool-section { display: none; animation: fadeInUp 0.5s ease; }
        .tool-section.active { display: block; }
        .card {
            background: var(--card-bg); border-radius: var(--radius);
            padding: clamp(20px, 4vw, 40px); box-shadow: var(--shadow-lg); margin-bottom: 20px;
        }
        .card h2 { color: var(--primary-color); font-size: clamp(1.3rem, 3vw, 1.8rem); margin-bottom: 10px; }
        .card p { color: var(--text-light); margin-bottom: 25px; font-size: 0.95rem; }
        /* ===== FILE UPLOAD AREA ===== */
        .upload-area {
            border: 2px dashed var(--border-color); border-radius: var(--radius);
            padding: 40px 20px; text-align: center; cursor: pointer;
            transition: all 0.3s ease; background: var(--bg-color); margin-bottom: 20px;
        }
        .upload-area:hover { border-color: var(--primary-color); background: rgba(37, 99, 235, 0.05); }
        .upload-area.dragover { border-color: var(--primary-color); background: rgba(37, 99, 235, 0.1); }
        .upload-icon { font-size: 3rem; color: var(--primary-color); margin-bottom: 15px; }
        .upload-text { color: var(--text-dark); font-weight: 600; margin-bottom: 5px; }
        .upload-hint { color: var(--text-light); font-size: 0.85rem; }
        /* ===== BUTTONS ===== */
        .btn {
            background: var(--primary-color); color: white; border: none;
            padding: 12px 30px; border-radius: 8px; font-size: 1rem; font-weight: 600;
            cursor: pointer; transition: all 0.3s ease; display: inline-block; text-decoration: none;
        }
        .btn:hover { background: var(--primary-dark); transform: translateY(-2px); box-shadow: var(--shadow-md); }
        .btn:disabled { background: var(--text-light); cursor: not-allowed; transform: none; }
        .btn-success { background: var(--secondary-color); }
        .btn-success:hover { background: #059669; }
        /* ===== FILE LIST ===== */
        .file-list { margin: 20px 0; }
        .file-item {
            background: var(--bg-color); padding: 15px; border-radius: 8px;
            margin-bottom: 10px; display: flex; justify-content: space-between;
            align-items: center; flex-wrap: wrap; gap: 10px;
        }
        .file-name { color: var(--text-dark); font-weight: 500; flex: 1; min-width: 150px; }
        .file-size { color: var(--text-light); font-size: 0.85rem; }
        .remove-btn {
            background: var(--danger-color); color: white; border: none;
            padding: 6px 12px; border-radius: 6px; cursor: pointer;
            font-size: 0.85rem; transition: all 0.2s ease;
        }
        .remove-btn:hover { background: #dc2626; }
        /* ===== PROGRESS BAR ===== */
        .progress-container { display: none; margin: 20px 0; }
        .progress-container.active { display: block; }
        .progress-bar { width: 100%; height: 8px; background: var(--border-color); border-radius: 10px; overflow: hidden; margin-bottom: 10px; }
        .progress-fill {
            height: 100%; background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            width: 0%; transition: width 0.3s ease; border-radius: 10px;
        }
        .progress-text { text-align: center; color: var(--text-light); font-size: 0.9rem; }
        /* ===== ALERTS ===== */
        .alert { padding: 15px 20px; border-radius: 8px; margin: 15px 0; display: none; }
        .alert.active { display: block; animation: slideDown 0.3s ease; }
        .alert-success { background: #d1fae5; color: #065f46; border-left: 4px solid var(--secondary-color); }
        .alert-error { background: #fee2e2; color: #991b1b; border-left: 4px solid var(--danger-color); }
        .alert-info { background: #dbeafe; color: #1e40af; border-left: 4px solid var(--primary-color); }
        /* ===== QUALITY SLIDER ===== */
        .quality-control { margin: 20px 0; }
        .quality-label { display: flex; justify-content: space-between; margin-bottom: 10px; color: var(--text-dark); font-weight: 500; }
        .quality-slider { width: 100%; height: 8px; border-radius: 5px; background: var(--border-color); outline: none; -webkit-appearance: none; }
        .quality-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; border-radius: 50%; background: var(--primary-color); cursor: pointer; }
        .quality-slider::-moz-range-thumb { width: 20px; height: 20px; border-radius: 50%; background: var(--primary-color); cursor: pointer; border: none; }
        /* ===== FOOTER ===== */
        .footer { text-align: center; margin-top: 50px; padding: 30px 20px; color: rgba(255,255,255,0.9); font-size: 0.9rem; }
        .footer-links { display: flex; justify-content: center; gap: 20px; margin-bottom: 15px; flex-wrap: wrap; }
        .footer-links a { color: rgba(255,255,255,0.9); text-decoration: none; padding: 8px 16px; border-radius: 6px; transition: all 0.3s ease; font-weight: 500; }
        .footer-links a:hover { background: rgba(255,255,255,0.1); color: white; }
        /* ===== ANIMATIONS ===== */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes slideDown { from { opacity: 0; max-height: 0; } to { opacity: 1; max-height: 100px; } }
        /* ===== RESPONSIVE ===== */
        @media (max-width: 768px) {
            body { padding: 15px; }
            .tool-nav { gap: 8px; }
            .tool-btn { padding: 10px 16px; font-size: 0.85rem; }
            .card { padding: 20px; }
            .upload-area { padding: 30px 15px; }
            .btn { padding: 10px 20px; font-size: 0.9rem; }
        }
        /* ===== SEO SECTION ===== */
        .seo-section { max-width: 900px; margin: 0 auto 30px; background: white; padding: 20px 30px; border-radius: var(--radius); box-shadow: var(--shadow-md); animation: fadeIn 0.8s ease; }
        .seo-section p { color: var(--text-dark); line-height: 1.7; margin: 0 0 15px 0; font-size: 0.95rem; }
        .seo-section p:last-child { margin: 0; }
        .seo-section strong { color: var(--primary-color); font-weight: 600; }
        .lang-divider { border-top: 1px solid var(--border-color); margin: 15px 0; }
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo-container">
            <div class="logo"></div>
            <div class="brand-name">PDF <span class="masterly">Masterly</span></div>
        </div>
        <p>Professional, fast, and secure PDF tools</p>
    </div>
    
    <div class="container">
        <div class="seo-section">
            <p><strong>Looking for alternatives to iLovePDF, SmallPDF, or PDF24?</strong> Our professional PDF tools offer a fast and secure alternative for all your document needs. We provide high-quality conversion with maximum privacy. No registration, no downloads, no limits.</p>
        </div>
        
        <div class="tool-nav">
            <button class="tool-btn active" data-tool="pdf-to-word">üìù PDF to Word</button>
            <button class="tool-btn" data-tool="pdf-to-jpg">üñºÔ∏è PDF to JPG</button>
            <button class="tool-btn" data-tool="merge-pdf">üîó Merge PDF</button>
            <button class="tool-btn" data-tool="compress-pdf">üì¶ Compress PDF</button>
            <button class="tool-btn" data-tool="jpg-to-pdf">üìÑ JPG to PDF</button>
        </div>
        
        <div id="pdf-to-word" class="tool-section active">
            <div class="card">
                <h2>PDF to Word Converter</h2>
                <p>Convert your PDF files to editable Word documents (.docx)</p>
                
                <div class="alert alert-info" id="word-api-info" style="display: block;">
                    <strong>Professional Conversion:</strong> This tool uses advanced cloud processing to convert your PDF to a high-quality editable Word document (.docx).
                </div>
                
                <div class="upload-area" id="word-upload-area">
                    <div class="upload-icon">üìÑ</div>
                    <div class="upload-text">Click to upload or drag & drop</div>
                    <div class="upload-hint">PDF files only (Max 50MB)</div>
                    <input type="file" id="word-file-input" accept=".pdf" style="display: none;">
                </div>
                
                <div class="file-list" id="word-file-list"></div>
                
                <div class="progress-container" id="word-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="word-progress-fill"></div>
                    </div>
                    <div class="progress-text" id="word-progress-text">Processing...</div>
                </div>
                
                <div class="alert" id="word-alert"></div>
                
                <button class="btn" id="word-convert-btn" disabled>Convert to Word</button>
                <a class="btn btn-success hidden" id="word-download-btn" download>Download Word File</a>
            </div>
        </div>
        
        <div id="pdf-to-jpg" class="tool-section">
            <div class="card">
                <h2>PDF to JPG Converter</h2>
                <p>Convert PDF pages to high-quality JPG images</p>
                <div class="upload-area" id="jpg-upload-area">
                    <div class="upload-icon">üìÑ</div>
                    <div class="upload-text">Click to upload or drag & drop</div>
                    <div class="upload-hint">PDF files only (Max 50MB)</div>
                    <input type="file" id="jpg-file-input" accept=".pdf" style="display: none;">
                </div>
                <div class="file-list" id="jpg-file-list"></div>
                <div class="quality-control">
                    <div class="quality-label"><span>Image Quality:</span><span id="jpg-quality-value">92%</span></div>
                    <input type="range" class="quality-slider" id="jpg-quality" min="60" max="100" value="92">
                </div>
                <div class="progress-container" id="jpg-progress">
                    <div class="progress-bar"><div class="progress-fill" id="jpg-progress-fill"></div></div>
                    <div class="progress-text" id="jpg-progress-text">Processing...</div>
                </div>
                <div class="alert" id="jpg-alert"></div>
                <button class="btn" id="jpg-convert-btn" disabled>Convert to JPG</button>
                <div id="jpg-download-container"></div>
            </div>
        </div>
        
        <div id="merge-pdf" class="tool-section">
            <div class="card">
                <h2>Merge PDF Files</h2>
                <p>Combine multiple PDF files into a single document</p>
                <div class="upload-area" id="merge-upload-area">
                    <div class="upload-icon">üìö</div>
                    <div class="upload-text">Click to upload or drag & drop</div>
                    <div class="upload-hint">Select multiple PDF files (Max 50MB each)</div>
                    <input type="file" id="merge-file-input" accept=".pdf" multiple style="display: none;">
                </div>
                <div class="file-list" id="merge-file-list"></div>
                <div class="progress-container" id="merge-progress">
                    <div class="progress-bar"><div class="progress-fill" id="merge-progress-fill"></div></div>
                    <div class="progress-text" id="merge-progress-text">Processing...</div>
                </div>
                <div class="alert" id="merge-alert"></div>
                <button class="btn" id="merge-convert-btn" disabled>Merge PDFs</button>
                <a class="btn btn-success hidden" id="merge-download-btn" download>Download Merged PDF</a>
            </div>
        </div>
        
        <div id="compress-pdf" class="tool-section">
            <div class="card">
                <h2>Compress PDF</h2>
                <p>Reduce PDF file size while maintaining quality</p>
                <div class="upload-area" id="compress-upload-area">
                    <div class="upload-icon">üì¶</div>
                    <div class="upload-text">Click to upload or drag & drop</div>
                    <div class="upload-hint">PDF files only (Max 50MB)</div>
                    <input type="file" id="compress-file-input" accept=".pdf" style="display: none;">
                </div>
                <div class="file-list" id="compress-file-list"></div>
                <div class="quality-control">
                    <div class="quality-label"><span>Compression Level:</span><span id="compress-quality-value">Medium (70%)</span></div>
                    <input type="range" class="quality-slider" id="compress-quality" min="40" max="95" value="70">
                </div>
                <div class="progress-container" id="compress-progress">
                    <div class="progress-bar"><div class="progress-fill" id="compress-progress-fill"></div></div>
                    <div class="progress-text" id="compress-progress-text">Processing...</div>
                </div>
                <div class="alert" id="compress-alert"></div>
                <button class="btn" id="compress-convert-btn" disabled>Compress PDF</button>
                <a class="btn btn-success hidden" id="compress-download-btn" download>Download Compressed PDF</a>
            </div>
        </div>
        
        <div id="jpg-to-pdf" class="tool-section">
            <div class="card">
                <h2>JPG to PDF Converter</h2>
                <p>Convert JPG, PNG, and other images to PDF format</p>
                <div class="upload-area" id="img-upload-area">
                    <div class="upload-icon">üñºÔ∏è</div>
                    <div class="upload-text">Click to upload or drag & drop</div>
                    <div class="upload-hint">Select one or multiple images (JPG, PNG, JPEG)</div>
                    <input type="file" id="img-file-input" accept="image/*" multiple style="display: none;">
                </div>
                <div class="file-list" id="img-file-list"></div>
                <div class="progress-container" id="img-progress">
                    <div class="progress-bar"><div class="progress-fill" id="img-progress-fill"></div></div>
                    <div class="progress-text" id="img-progress-text">Processing...</div>
                </div>
                <div class="alert" id="img-alert"></div>
                <button class="btn" id="img-convert-btn" disabled>Convert to PDF</button>
                <a class="btn btn-success hidden" id="img-download-btn" download>Download PDF</a>
            </div>
        </div>
    </div>
    
    <div class="footer">
        <div class="footer-links">
            <a href="privacy.html">Privacy Policy</a>
            <a href="terms.html">Terms of Use</a>
        </div>
        <p>&copy; 2025 PDF Masterly. Professional Online Tools.</p>
    </div>
    
    <script>
        // ===== GLOBAL CONFIGURATION =====
        const MAX_FILE_SIZE = 50 * 1024 * 1024; // 50MB
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';

        // ===== UTILITY FUNCTIONS =====
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }
        
        function showAlert(elementId, message, type = 'info') {
            const alert = document.getElementById(elementId);
            alert.className = `alert alert-${type} active`;
            alert.textContent = message;
            setTimeout(() => alert.classList.remove('active'), 5000);
        }
        
        function updateProgress(progressFillId, progressTextId, percent, text = '') {
            document.getElementById(progressFillId).style.width = percent + '%';
            if (text) {
                document.getElementById(progressTextId).textContent = text;
            }
        }
        
        function showProgress(containerId) { document.getElementById(containerId).classList.add('active'); }
        function hideProgress(containerId) { document.getElementById(containerId).classList.remove('active'); }
        
        // ===== TOOL NAVIGATION =====
        document.querySelectorAll('.tool-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const toolId = this.dataset.tool;
                document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                document.querySelectorAll('.tool-section').forEach(section => {
                    section.classList.remove('active');
                });
                document.getElementById(toolId).classList.add('active');
            });
        });

        // =====================================================
        // ===== MODULE 1: PDF TO WORD CONVERTER (UPDATED) =====
        // =====================================================
        (function() {
            let pdfFile = null;
            const fileInput = document.getElementById('word-file-input');
            const uploadArea = document.getElementById('word-upload-area');
            const fileList = document.getElementById('word-file-list');
            const convertBtn = document.getElementById('word-convert-btn');
            const downloadBtn = document.getElementById('word-download-btn');
            
            uploadArea.addEventListener('click', () => fileInput.click());
            uploadArea.addEventListener('dragover', (e) => { e.preventDefault(); uploadArea.classList.add('dragover'); });
            uploadArea.addEventListener('dragleave', () => { uploadArea.classList.remove('dragover'); });
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');
                handleFiles(e.dataTransfer.files);
            });
            fileInput.addEventListener('change', (e) => { handleFiles(e.target.files); });

            function handleFiles(files) {
                if (files.length === 0) return;
                const file = files[0];
                
                if (file.type !== 'application/pdf') {
                    showAlert('word-alert', 'Please select a PDF file', 'error');
                    return;
                }
                if (file.size > MAX_FILE_SIZE) {
                    showAlert('word-alert', 'File size exceeds 50MB limit', 'error');
                    return;
                }
                
                pdfFile = file;
                displayFile(file);
                convertBtn.disabled = false;
                downloadBtn.classList.add('hidden'); // Reset download button
            }
            
            function displayFile(file) {
                fileList.innerHTML = `
                    <div class="file-item">
                        <span class="file-name">${file.name}</span>
                        <span class="file-size">${formatFileSize(file.size)}</span>
                        <button class="remove-btn" onclick="this.closest('.file-item').remove(); document.getElementById('word-convert-btn').disabled = true;">Remove</button>
                    </div>
                `;
            }
            
            // Connect to Vercel API
            convertBtn.addEventListener('click', async () => {
                if (!pdfFile) return;
                
                convertBtn.disabled = true;
                showProgress('word-progress');
                updateProgress('word-progress-fill', 'word-progress-text', 10, 'Uploading to server...');
                
                const formData = new FormData();
                formData.append('file', pdfFile);

                try {
                    const response = await fetch('/api/convert', {
                        method: 'POST',
                        body: formData
                    });
                    
                    updateProgress('word-progress-fill', 'word-progress-text', 60, 'Converting...');
                    const data = await response.json();

                    if (response.ok) {
                        updateProgress('word-progress-fill', 'word-progress-text', 100, 'Complete!');
                        downloadBtn.href = data.downloadUrl;
                        downloadBtn.download = pdfFile.name.replace('.pdf', '.docx');
                        downloadBtn.classList.remove('hidden');
                        downloadBtn.textContent = "Download Word File (.docx)";
                        
                        showAlert('word-alert', 'Conversion successful! Download your file below.', 'success');
                        setTimeout(() => hideProgress('word-progress'), 2000);
                    } else {
                        throw new Error(data.error || 'Server error');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    showAlert('word-alert', 'Conversion Failed: ' + error.message, 'error');
                    hideProgress('word-progress');
                } finally {
                    convertBtn.disabled = false;
                }
            });
        })();
        
        // ===== MODULE 2: PDF TO JPG CONVERTER =====
        (function() {
            let pdfFile = null;
            const fileInput = document.getElementById('jpg-file-input');
            const uploadArea = document.getElementById('jpg-upload-area');
            const fileList = document.getElementById('jpg-file-list');
            const convertBtn = document.getElementById('jpg-convert-btn');
            const qualitySlider = document.getElementById('jpg-quality');
            const qualityValue = document.getElementById('jpg-quality-value');
            const downloadContainer = document.getElementById('jpg-download-container');
            
            qualitySlider.addEventListener('input', (e) => { qualityValue.textContent = e.target.value + '%'; });
            uploadArea.addEventListener('click', () => fileInput.click());
            uploadArea.addEventListener('dragover', (e) => { e.preventDefault(); uploadArea.classList.add('dragover'); });
            uploadArea.addEventListener('dragleave', () => { uploadArea.classList.remove('dragover'); });
            uploadArea.addEventListener('drop', (e) => { e.preventDefault(); uploadArea.classList.remove('dragover'); handleFiles(e.dataTransfer.files); });
            fileInput.addEventListener('change', (e) => { handleFiles(e.target.files); });

            function handleFiles(files) {
                if (files.length === 0) return;
                const file = files[0];
                if (file.type !== 'application/pdf') { showAlert('jpg-alert', 'Please select a PDF file', 'error'); return; }
                if (file.size > MAX_FILE_SIZE) { showAlert('jpg-alert', 'File size exceeds 50MB limit', 'error'); return; }
                pdfFile = file; displayFile(file); convertBtn.disabled = false;
            }
            function displayFile(file) {
                fileList.innerHTML = `<div class="file-item"><span class="file-name">${file.name}</span><span class="file-size">${formatFileSize(file.size)}</span><button class="remove-btn" onclick="this.closest('.file-item').remove(); document.getElementById('jpg-convert-btn').disabled = true;">Remove</button></div>`;
            }
            convertBtn.addEventListener('click', async () => {
                if (!pdfFile) return;
                convertBtn.disabled = true; downloadContainer.innerHTML = ''; showProgress('jpg-progress');
                updateProgress('jpg-progress-fill', 'jpg-progress-text', 10, 'Loading PDF...');
                try {
                    const arrayBuffer = await pdfFile.arrayBuffer();
                    const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                    const totalPages = pdf.numPages;
                    const quality = qualitySlider.value / 100;
                    updateProgress('jpg-progress-fill', 'jpg-progress-text', 20, `Converting ${totalPages} pages...`);
                    for (let i = 1; i <= totalPages; i++) {
                        const page = await pdf.getPage(i);
                        const viewport = page.getViewport({ scale: 2.0 });
                        const canvas = document.createElement('canvas');
                        const context = canvas.getContext('2d');
                        canvas.width = viewport.width; canvas.height = viewport.height;
                        await page.render({ canvasContext: context, viewport: viewport }).promise;
                        const blob = await new Promise(resolve => { canvas.toBlob(resolve, 'image/jpeg', quality); });
                        const url = URL.createObjectURL(blob);
                        const downloadLink = document.createElement('a');
                        downloadLink.href = url; downloadLink.download = `${pdfFile.name.replace('.pdf', '')}_page_${i}.jpg`;
                        downloadLink.className = 'btn btn-success'; downloadLink.textContent = `Download Page ${i}`;
                        downloadLink.style.margin = '5px'; downloadContainer.appendChild(downloadLink);
                        updateProgress('jpg-progress-fill', 'jpg-progress-text', 20 + (i / totalPages) * 80, `Converted page ${i} of ${totalPages}`);
                    }
                    showAlert('jpg-alert', `Successfully converted ${totalPages} pages to JPG!`, 'success');
                    setTimeout(() => hideProgress('jpg-progress'), 1500);
                } catch (error) { console.error('Conversion error:', error); showAlert('jpg-alert', 'Error converting PDF: ' + error.message, 'error'); hideProgress('jpg-progress'); }
                convertBtn.disabled = false;
            });
        })();
        
        // ===== MODULE 3: MERGE PDF TOOL =====
        (function() {
            let pdfFiles = [];
            const fileInput = document.getElementById('merge-file-input');
            const uploadArea = document.getElementById('merge-upload-area');
            const fileList = document.getElementById('merge-file-list');
            const convertBtn = document.getElementById('merge-convert-btn');
            const downloadBtn = document.getElementById('merge-download-btn');
            
            uploadArea.addEventListener('click', () => fileInput.click());
            uploadArea.addEventListener('dragover', (e) => { e.preventDefault(); uploadArea.classList.add('dragover'); });
            uploadArea.addEventListener('dragleave', () => { uploadArea.classList.remove('dragover'); });
            uploadArea.addEventListener('drop', (e) => { e.preventDefault(); uploadArea.classList.remove('dragover'); handleFiles(e.dataTransfer.files); });
            fileInput.addEventListener('change', (e) => { handleFiles(e.target.files); });

            function handleFiles(files) {
                for (let file of files) {
                    if (file.type !== 'application/pdf') { showAlert('merge-alert', 'Only PDF files are allowed', 'error'); continue; }
                    if (file.size > MAX_FILE_SIZE) { showAlert('merge-alert', `${file.name} exceeds 50MB limit`, 'error'); continue; }
                    pdfFiles.push(file);
                }
                displayFiles(); convertBtn.disabled = pdfFiles.length < 2;
            }
            function displayFiles() {
                fileList.innerHTML = '';
                pdfFiles.forEach((file, index) => {
                    const div = document.createElement('div'); div.className = 'file-item';
                    div.innerHTML = `<span class="file-name">${index + 1}. ${file.name}</span><span class="file-size">${formatFileSize(file.size)}</span><button class="remove-btn" data-index="${index}">Remove</button>`;
                    fileList.appendChild(div);
                });
                document.querySelectorAll('#merge-file-list .remove-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.dataset.index); pdfFiles.splice(index, 1);
                        displayFiles(); convertBtn.disabled = pdfFiles.length < 2;
                    });
                });
            }
            convertBtn.addEventListener('click', async () => {
                if (pdfFiles.length < 2) return;
                convertBtn.disabled = true; showProgress('merge-progress');
                updateProgress('merge-progress-fill', 'merge-progress-text', 10, 'Starting merge process...');
                try {
                    const { jsPDF } = window.jspdf; const mergedPdf = new jsPDF(); let firstPage = true;
                    for (let i = 0; i < pdfFiles.length; i++) {
                        const file = pdfFiles[i];
                        updateProgress('merge-progress-fill', 'merge-progress-text', 10 + (i / pdfFiles.length) * 80, `Processing ${file.name}...`);
                        const arrayBuffer = await file.arrayBuffer();
                        const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                        for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
                            const page = await pdf.getPage(pageNum);
                            const viewport = page.getViewport({ scale: 2.0 });
                            const canvas = document.createElement('canvas'); const context = canvas.getContext('2d');
                            canvas.width = viewport.width; canvas.height = viewport.height;
                            await page.render({ canvasContext: context, viewport: viewport }).promise;
                            const imgData = canvas.toDataURL('image/jpeg', 0.95);
                            if (!firstPage) { mergedPdf.addPage(); } firstPage = false;
                            const pdfWidth = mergedPdf.internal.pageSize.getWidth();
                            const pdfHeight = mergedPdf.internal.pageSize.getHeight();
                            mergedPdf.addImage(imgData, 'JPEG', 0, 0, pdfWidth, pdfHeight);
                        }
                    }
                    updateProgress('merge-progress-fill', 'merge-progress-text', 95, 'Finalizing merged PDF...');
                    const blob = mergedPdf.output('blob'); const url = URL.createObjectURL(blob);
                    downloadBtn.href = url; downloadBtn.download = 'merged_document.pdf'; downloadBtn.classList.remove('hidden');
                    updateProgress('merge-progress-fill', 'merge-progress-text', 100, 'Merge complete!');
                    showAlert('merge-alert', `Successfully merged ${pdfFiles.length} PDF files!`, 'success');
                    setTimeout(() => hideProgress('merge-progress'), 2000);
                } catch (error) { console.error('Merge error:', error); showAlert('merge-alert', 'Error merging PDFs: ' + error.message, 'error'); hideProgress('merge-progress'); }
                convertBtn.disabled = false;
            });
        })();
        
        // ===== MODULE 4: COMPRESS PDF TOOL =====
        (function() {
            let pdfFile = null;
            const fileInput = document.getElementById('compress-file-input');
            const uploadArea = document.getElementById('compress-upload-area');
            const fileList = document.getElementById('compress-file-list');
            const convertBtn = document.getElementById('compress-convert-btn');
            const downloadBtn = document.getElementById('compress-download-btn');
            const qualitySlider = document.getElementById('compress-quality');
            const qualityValue = document.getElementById('compress-quality-value');
            
            qualitySlider.addEventListener('input', (e) => {
                const value = parseInt(e.target.value);
                let level = 'Low'; if (value >= 80) level = 'High'; else if (value >= 60) level = 'Medium';
                qualityValue.textContent = `${level} (${value}%)`;
            });
            uploadArea.addEventListener('click', () => fileInput.click());
            uploadArea.addEventListener('dragover', (e) => { e.preventDefault(); uploadArea.classList.add('dragover'); });
            uploadArea.addEventListener('dragleave', () => { uploadArea.classList.remove('dragover'); });
            uploadArea.addEventListener('drop', (e) => { e.preventDefault(); uploadArea.classList.remove('dragover'); handleFiles(e.dataTransfer.files); });
            fileInput.addEventListener('change', (e) => { handleFiles(e.target.files); });

            function handleFiles(files) {
                if (files.length === 0) return;
                const file = files[0];
                if (file.type !== 'application/pdf') { showAlert('compress-alert', 'Please select a PDF file', 'error'); return; }
                if (file.size > MAX_FILE_SIZE) { showAlert('compress-alert', 'File size exceeds 50MB limit', 'error'); return; }
                pdfFile = file; displayFile(file); convertBtn.disabled = false;
            }
            function displayFile(file) {
                fileList.innerHTML = `<div class="file-item"><span class="file-name">${file.name}</span><span class="file-size">${formatFileSize(file.size)}</span><button class="remove-btn" onclick="this.closest('.file-item').remove(); document.getElementById('compress-convert-btn').disabled = true;">Remove</button></div>`;
            }
            convertBtn.addEventListener('click', async () => {
                if (!pdfFile) return;
                convertBtn.disabled = true; showProgress('compress-progress');
                updateProgress('compress-progress-fill', 'compress-progress-text', 10, 'Loading PDF...');
                try {
                    const quality = qualitySlider.value / 100;
                    const arrayBuffer = await pdfFile.arrayBuffer();
                    const pdf = await pdfjsLib.getDocument({ data: arrayBuffer }).promise;
                    const { jsPDF } = window.jspdf; const compressedPdf = new jsPDF(); let firstPage = true;
                    updateProgress('compress-progress-fill', 'compress-progress-text', 20, `Compressing ${pdf.numPages} pages...`);
                    for (let pageNum = 1; pageNum <= pdf.numPages; pageNum++) {
                        const page = await pdf.getPage(pageNum);
                        const viewport = page.getViewport({ scale: 1.5 });
                        const canvas = document.createElement('canvas'); const context = canvas.getContext('2d');
                        canvas.width = viewport.width; canvas.height = viewport.height;
                        await page.render({ canvasContext: context, viewport: viewport }).promise;
                        const imgData = canvas.toDataURL('image/jpeg', quality);
                        if (!firstPage) { compressedPdf.addPage(); } firstPage = false;
                        const pdfWidth = compressedPdf.internal.pageSize.getWidth();
                        const pdfHeight = compressedPdf.internal.pageSize.getHeight();
                        compressedPdf.addImage(imgData, 'JPEG', 0, 0, pdfWidth, pdfHeight);
                        updateProgress('compress-progress-fill', 'compress-progress-text', 20 + (pageNum / pdf.numPages) * 70, `Compressed page ${pageNum} of ${pdf.numPages}`);
                    }
                    updateProgress('compress-progress-fill', 'compress-progress-text', 95, 'Finalizing compressed PDF...');
                    const blob = compressedPdf.output('blob'); const url = URL.createObjectURL(blob);
                    const originalSize = pdfFile.size; const compressedSize = blob.size;
                    const reduction = ((1 - compressedSize / originalSize) * 100).toFixed(1);
                    downloadBtn.href = url; downloadBtn.download = pdfFile.name.replace('.pdf', '_compressed.pdf'); downloadBtn.classList.remove('hidden');
                    updateProgress('compress-progress-fill', 'compress-progress-text', 100, 'Compression complete!');
                    showAlert('compress-alert', `File compressed! Original: ${formatFileSize(originalSize)} ‚Üí Compressed: ${formatFileSize(compressedSize)} (${reduction}% reduction)`, 'success');
                    setTimeout(() => hideProgress('compress-progress'), 2000);
                } catch (error) { console.error('Compression error:', error); showAlert('compress-alert', 'Error compressing PDF: ' + error.message, 'error'); hideProgress('compress-progress'); }
                convertBtn.disabled = false;
            });
        })();
        
        // ===== MODULE 5: JPG TO PDF CONVERTER =====
        (function() {
            let imageFiles = [];
            const fileInput = document.getElementById('img-file-input');
            const uploadArea = document.getElementById('img-upload-area');
            const fileList = document.getElementById('img-file-list');
            const convertBtn = document.getElementById('img-convert-btn');
            const downloadBtn = document.getElementById('img-download-btn');
            
            uploadArea.addEventListener('click', () => fileInput.click());
            uploadArea.addEventListener('dragover', (e) => { e.preventDefault(); uploadArea.classList.add('dragover'); });
            uploadArea.addEventListener('dragleave', () => { uploadArea.classList.remove('dragover'); });
            uploadArea.addEventListener('drop', (e) => { e.preventDefault(); uploadArea.classList.remove('dragover'); handleFiles(e.dataTransfer.files); });
            fileInput.addEventListener('change', (e) => { handleFiles(e.target.files); });

            function handleFiles(files) {
                for (let file of files) {
                    if (!file.type.startsWith('image/')) { showAlert('img-alert', 'Only image files are allowed', 'error'); continue; }
                    if (file.size > MAX_FILE_SIZE) { showAlert('img-alert', `${file.name} exceeds 50MB limit`, 'error'); continue; }
                    imageFiles.push(file);
                }
                displayFiles(); convertBtn.disabled = imageFiles.length === 0;
            }
            function displayFiles() {
                fileList.innerHTML = '';
                imageFiles.forEach((file, index) => {
                    const div = document.createElement('div'); div.className = 'file-item';
                    div.innerHTML = `<span class="file-name">${index + 1}. ${file.name}</span><span class="file-size">${formatFileSize(file.size)}</span><button class="remove-btn" data-index="${index}">Remove</button>`;
                    fileList.appendChild(div);
                });
                document.querySelectorAll('#img-file-list .remove-btn').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const index = parseInt(this.dataset.index); imageFiles.splice(index, 1);
                        displayFiles(); convertBtn.disabled = imageFiles.length === 0;
                    });
                });
            }
            convertBtn.addEventListener('click', async () => {
                if (imageFiles.length === 0) return;
                convertBtn.disabled = true; showProgress('img-progress');
                updateProgress('img-progress-fill', 'img-progress-text', 10, 'Creating PDF...');
                try {
                    const { jsPDF } = window.jspdf; const pdf = new jsPDF(); let firstPage = true;
                    for (let i = 0; i < imageFiles.length; i++) {
                        const file = imageFiles[i];
                        updateProgress('img-progress-fill', 'img-progress-text', 10 + (i / imageFiles.length) * 80, `Adding image ${i + 1} of ${imageFiles.length}...`);
                        const imgData = await new Promise((resolve) => { const reader = new FileReader(); reader.onload = (e) => resolve(e.target.result); reader.readAsDataURL(file); });
                        const img = await new Promise((resolve) => { const image = new Image(); image.onload = () => resolve(image); image.src = imgData; });
                        if (!firstPage) { pdf.addPage(); } firstPage = false;
                        const pdfWidth = pdf.internal.pageSize.getWidth();
                        const pdfHeight = pdf.internal.pageSize.getHeight();
                        const imgRatio = img.width / img.height; const pdfRatio = pdfWidth / pdfHeight;
                        let finalWidth, finalHeight;
                        if (imgRatio > pdfRatio) { finalWidth = pdfWidth; finalHeight = pdfWidth / imgRatio; } else { finalHeight = pdfHeight; finalWidth = pdfHeight * imgRatio; }
                        const x = (pdfWidth - finalWidth) / 2; const y = (pdfHeight - finalHeight) / 2;
                        pdf.addImage(imgData, 'JPEG', x, y, finalWidth, finalHeight);
                    }
                    updateProgress('img-progress-fill', 'img-progress-text', 95, 'Finalizing PDF...');
                    const blob = pdf.output('blob'); const url = URL.createObjectURL(blob);
                    downloadBtn.href = url; downloadBtn.download = 'images_to_pdf.pdf'; downloadBtn.classList.remove('hidden');
                    updateProgress('img-progress-fill', 'img-progress-text', 100, 'Conversion complete!');
                    showAlert('img-alert', `Successfully converted ${imageFiles.length} images to PDF!`, 'success');
                    setTimeout(() => hideProgress('img-progress'), 2000);
                } catch (error) { console.error('Conversion error:', error); showAlert('img-alert', 'Error creating PDF: ' + error.message, 'error'); hideProgress('img-progress'); }
                convertBtn.disabled = false;
            });
        })();
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PDFMasterlyTools Logo</title>

  <!-- Optional: Modern, legible font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@600;800&family=Montserrat:wght@600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --brand-red: #E53935;
      --brand-dark: #1C1C1E;
      --brand-gray: #4A4A4E;
      --brand-light: #F7F7FA;
      --accent: #FF6B6B;
      --glow: rgba(229,57,53,0.35);
    }

    body{
      margin:0;
      background: radial-gradient(1200px 700px at 20% -10%, #101114 0%, #0B0C0F 50%, #06070A 100%);
      color:#fff;
      font-family: Inter, Montserrat, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
      display:flex; align-items:center; justify-content:center;
      min-height:100vh;
    }

    .logo-wrap{
      display:flex; align-items:center; gap:20px;
      padding:28px 32px;
      border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.06) 0%, rgba(255,255,255,0.03) 100%);
      box-shadow:
        0 20px 60px rgba(0,0,0,0.45),
        0 0 0 1px rgba(255,255,255,0.08),
        0 0 40px var(--glow);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      transition: transform .25s ease, box-shadow .25s ease;
    }

    .logo-wrap:hover{
      transform: translateY(-2px);
      box-shadow:
        0 24px 70px rgba(0,0,0,0.55),
        0 0 0 1px rgba(255,255,255,0.1),
        0 0 52px var(--glow);
    }

    .logo-icon{
      width:84px; height:84px;
      flex:0 0 auto;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,0.35));
    }

    .brand{
      display:flex; flex-direction:column; gap:6px;
    }

    .brand-name{
      font-weight:800;
      letter-spacing:0.2px;
      font-size:28px;
      line-height:1.05;
      display:flex; align-items:center; gap:10px;
    }

    .brand-name .accent-chip{
      display:inline-flex; align-items:center; justify-content:center;
      font-size:12px; font-weight:700; letter-spacing:1px;
      text-transform:uppercase;
      padding:3px 8px;
      border-radius:999px;
      color:#fff;
      background: linear-gradient(135deg, var(--brand-red) 0%, var(--accent) 100%);
      box-shadow: 0 6px 16px rgba(229,57,53,0.35);
    }

    .brand-tagline{
      font-size:13px;
      color:#cfd1d7;
      letter-spacing:0.2px;
    }

    /* Optional subtle pulse on the red accent */
    @keyframes pulse {
      0%   { transform: scale(1); filter: drop-shadow(0 0 0 rgba(229,57,53,0.0)); }
      50%  { transform: scale(1.02); filter: drop-shadow(0 0 8px rgba(229,57,53,0.45)); }
      100% { transform: scale(1); filter: drop-shadow(0 0 0 rgba(229,57,53,0.0)); }
    }
    .pulse{ animation: pulse 2.8s ease-in-out infinite; }
  </style>
</head>

<body>
  <div class="logo-wrap" role="img" aria-label="PDFMasterlyTools logo">
    <!-- Icon (SVG) -->
    <svg class="logo-icon" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <!-- Paper body -->
      <defs>
        <linearGradient id="paper" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#FFFFFF"/>
          <stop offset="60%" stop-color="#F3F4F7"/>
          <stop offset="100%" stop-color="#E9EBF1"/>
        </linearGradient>
        <linearGradient id="fold" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#FAFAFD"/>
          <stop offset="100%" stop-color="#DDE1EA"/>
        </linearGradient>
        <linearGradient id="ribbon" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" stop-color="#E53935"/>
          <stop offset="100%" stop-color="#FF6B6B"/>
        </linearGradient>
      </defs>

      <!-- Soft shadow -->
      <ellipse cx="60" cy="98" rx="34" ry="8" fill="rgba(0,0,0,0.18)"/>

      <!-- Paper with rounded corners -->
      <path d="M26 22 h50 a10 10 0 0 1 10 10 v42 a10 10 0 0 1 -10 10 h-50 a10 10 0 0 1 -10 -10 v-42 a10 10 0 0 1 10 -10 z"
            fill="url(#paper)" stroke="#D3D7E2" stroke-width="1.2"/>

      <!-- Folded corner -->
      <path d="M86 22 h0 v18 a0 0 0 0 1 0 0 h18 a0 0 0 0 1 0 0 v0 a16 16 0 0 0 -18 -18 z"
            fill="url(#fold)" stroke="#C8CCD8" stroke-width="1"/>

      <!-- Red ribbon (PDF) -->
      <path class="pulse" d="M22 50 h64 a8 8 0 0 1 8 8 v6 a8 8 0 0 1 -8 8 h-64 a8 8 0 0 1 -8 -8 v-6 a8 8 0 0 1 8 -8 z"
            fill="url(#ribbon)" />

      <!-- 'PDF' letters -->
      <g transform="translate(28,54)">
        <!-- P -->
        <path d="M0 16 v-14 h7.5 q5.5 0 5.5 4.8 q0 4.8 -5.5 4.8 h-4 v4.4 z"
              fill="#FFFFFF"/>
        <!-- D -->
        <path d="M17 16 v-14 h7.8 q6.2 0 6.2 7 q0 7 -6.2 7 z"
              fill="#FFFFFF"/>
        <!-- F -->
        <path d="M36 16 v-14 h12 v3.8 h-8 v2.8 h7.2 v3.6 h-7.2 v3.8 z"
              fill="#FFFFFF"/>
      </g>

      <!-- Fine lines to suggest text -->
      <rect x="30" y="34" width="42" height="3" rx="1.5" fill="#D1D5E3"/>
      <rect x="30" y="40" width="30" height="3" rx="1.5" fill="#DDE1EE"/>
      <rect x="30" y="76" width="36" height="3" rx="1.5" fill="#D1D5E3"/>
      <rect x="30" y="82" width="26" height="3" rx="1.5" fill="#DDE1EE"/>
    </svg>

    <!-- Brand text -->
    <div class="brand">
      <div class="brand-name">
        <span>PDFMasterlyTools</span>
        <span class="accent-chip">PDF</span>
      </div>
      <div class="brand-tagline">Precision PDF utilities ‚Äî convert, merge, optimize, and secure with confidence.</div>
    </div>
  </div>
</body>
</html>

